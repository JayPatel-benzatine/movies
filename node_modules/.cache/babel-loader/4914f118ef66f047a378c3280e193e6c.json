{"ast":null,"code":"import _regeneratorRuntime from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Backdrop from'@mui/material/Backdrop';import Box from'@mui/material/Box';import Modal from'@mui/material/Modal';import Fade from'@mui/material/Fade';import Button from'@mui/material/Button';import axios from'axios';import'./ContentModal.css';import{img_500,unavailable,unavailableLandscape}from\"../../config\";import YouTubeIcon from'@mui/icons-material/YouTube';import Carousel from'./Carousel/Carousel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:\"90%\",height:\"90%\",backgroundColor:\"#39445a\",border:\"1px solid #282c34\",borderRadius:10,color:\"white\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"};var ContentModal=function ContentModal(_ref){var children=_ref.children,media_type=_ref.media_type,id=_ref.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){return setOpen(false);};var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),video=_useState4[0],setVideo=_useState4[1];var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContent(data);// console.log(data);\ncase 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var fetchVideo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _data$results$;var _yield$axios$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"/videos?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 2:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;setVideo((_data$results$=data.results[0])===null||_data$results$===void 0?void 0:_data$results$.key);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchVideo(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchData();fetchVideo();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"media\",onClick:handleOpen,children:children}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:/*#__PURE__*/_jsx(Box,{sx:style,children:content&&/*#__PURE__*/_jsx(\"div\",{className:style,children:/*#__PURE__*/_jsxs(\"div\",{className:\"ContentModal\",children:[/*#__PURE__*/_jsx(\"img\",{src:content.poster_path?\"\".concat(img_500,\"/\").concat(content.poster_path):unavailable,alt:content.name||content.title,className:\"ContentModal__portrait\"}),/*#__PURE__*/_jsx(\"img\",{src:content.backdrop_path?\"\".concat(img_500,\"/\").concat(content.backdrop_path):unavailableLandscape,alt:content.name||content.title,className:\"ContentModal__landscape\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContentModal__about\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"ContentModal__title\",children:[content.name||content.title,\" (\",(content.first_air_date||content.release_date||\"-----\").substring(0,4),\")\"]}),content.tagline&&/*#__PURE__*/_jsx(\"i\",{className:\"tagline\",children:content.tagline}),/*#__PURE__*/_jsx(\"span\",{className:\"ContentModal__description\",children:content.overview}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel\",children:/*#__PURE__*/_jsx(Carousel,{id:id,media_type:media_type})}),/*#__PURE__*/_jsx(Button,{className:\"btn_y\",variant:\"contained\",startIcon:/*#__PURE__*/_jsx(YouTubeIcon,{}),color:\"secondary\",target:\"__blank\",href:\"https://www.youtube.com/watch?v=\".concat(video),children:\"Watch the Trailer\"})]})]})})})})})]});};export default ContentModal;","map":{"version":3,"names":["React","useEffect","useState","Backdrop","Box","Modal","Fade","Button","axios","img_500","unavailable","unavailableLandscape","YouTubeIcon","Carousel","style","position","top","left","transform","width","height","backgroundColor","border","borderRadius","color","display","alignItems","justifyContent","ContentModal","children","media_type","id","content","setContent","open","setOpen","handleOpen","handleClose","video","setVideo","fetchData","get","process","env","REACT_APP_API_KEY","data","fetchVideo","results","key","timeout","poster_path","name","title","backdrop_path","first_air_date","release_date","substring","tagline","overview"],"sources":["/Users/iphone6s/Desktop/jay/Movie/movie/src/components/ContentModal/ContentModal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Backdrop from '@mui/material/Backdrop';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Fade from '@mui/material/Fade';\nimport Button from '@mui/material/Button';\nimport axios from 'axios';\nimport './ContentModal.css'\nimport { img_500, unavailable,unavailableLandscape} from \"../../config\";\nimport YouTubeIcon from '@mui/icons-material/YouTube';\nimport Carousel from './Carousel/Carousel';\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: \"90%\",\n  height: \"90%\",\n  backgroundColor: \"#39445a\",\n  border: \"1px solid #282c34\",\n  borderRadius: 10,\n  color: \"white\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n};\n\nconst ContentModal = ({ children,media_type, id }) => {\n  const [content, setContent] = useState();\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const [video, setVideo] = useState();\n\n  const fetchData = async () => {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/${media_type}/${id}?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`\n    );\n    setContent(data);\n    // console.log(data);\n  };\n  const fetchVideo = async () => {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/${media_type}/${id}/videos?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`\n    );\n    setVideo(data.results[0]?.key);\n  };\n\n  useEffect(() => {\n    fetchData();\n    fetchVideo();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <div className='media' onClick={handleOpen}>{children}</div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <Box sx={style}>\n          {content && (\n            <div className={style}>\n              <div className=\"ContentModal\">\n                <img\n                  src={\n                    content.poster_path\n                      ? `${img_500}/${content.poster_path}`\n                      : unavailable\n                  }\n                  alt={content.name || content.title}\n                  className=\"ContentModal__portrait\"\n                />\n                <img\n                  src={\n                    content.backdrop_path\n                      ? `${img_500}/${content.backdrop_path}`\n                      : unavailableLandscape\n                  }\n                  alt={content.name || content.title}\n                  className=\"ContentModal__landscape\"\n                />\n                <div className=\"ContentModal__about\">\n                  <span className=\"ContentModal__title\">\n                    {content.name || content.title} (\n                    {(\n                      content.first_air_date ||\n                      content.release_date ||\n                      \"-----\"\n                    ).substring(0, 4)}\n                    )\n                  </span>\n                  {content.tagline && (\n                    <i className=\"tagline\">{content.tagline}</i>\n                  )}\n                  <span className=\"ContentModal__description\">\n                    {content.overview}\n                  </span>\n                  <div className='carousel'>\n                    <Carousel id={id} media_type={media_type} />\n                  </div>\n                  <Button\n                  className='btn_y'\n                    variant=\"contained\"\n                    startIcon={<YouTubeIcon />}\n                    color=\"secondary\"\n                    target=\"__blank\"\n                    href={`https://www.youtube.com/watch?v=${video}`}\n                  >\n                    Watch the Trailer\n                  </Button>\n                </div>\n              </div>\n            </div>\n          )}\n          </Box>\n        </Fade>\n      </Modal>\n    </>\n\n  )\n}\n\nexport default ContentModal"],"mappings":"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"},"metadata":{},"sourceType":"module"}