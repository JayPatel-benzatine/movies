{"ast":null,"code":"import _regeneratorRuntime from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import SingleContent from'../../components/SingleContent/SingleContent';import CustomPagination from'../../components/Pagination/CustomPagination';import Genres from'../../components/Genres/Genres';import axios from'axios';import useGenre from'../../hooks/useGenre';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Series=function Series(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),genres=_useState2[0],setGenres=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedGenres=_useState4[0],setSelectedGenres=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),content=_useState8[0],setContent=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),numOfPages=_useState10[0],setNumOfPages=_useState10[1];var genreforURL=useGenre(selectedGenres);var fetchMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/discover/tv?api_key=\".concat(process.env.REACT_APP_API_KEY,\"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=\").concat(page,\"&with_genres=\").concat(genreforURL));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContent(data.results);setNumOfPages(data.total_pages);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchMovies(){return _ref.apply(this,arguments);};}();useEffect(function(){window.scroll(0,0);fetchMovies();// eslint-disable-next-line\n},[page,genreforURL]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pageTitle\",children:\" TV Series\"}),/*#__PURE__*/_jsx(Genres,{type:\"tv\",selectedGenres:selectedGenres,setSelectedGenres:setSelectedGenres,genres:genres,setGenres:setGenres,setPage:setPage}),/*#__PURE__*/_jsx(\"div\",{className:\"trending\",children:content&&content.map(function(c){return/*#__PURE__*/_jsx(SingleContent,{id:c.id,poster:c.poster_path,title:c.title||c.name,date:c.first_air_date||c.release_date,media_type:\"tv\",vote_average:c.vote_average},c.id);})}),numOfPages>1&&/*#__PURE__*/_jsx(CustomPagination,{setPage:setPage,numOfPages:numOfPages})]});};export default Series;","map":{"version":3,"names":["React","useEffect","useState","SingleContent","CustomPagination","Genres","axios","useGenre","Series","genres","setGenres","selectedGenres","setSelectedGenres","page","setPage","content","setContent","numOfPages","setNumOfPages","genreforURL","fetchMovies","get","process","env","REACT_APP_API_KEY","data","results","total_pages","window","scroll","map","c","id","poster_path","title","name","first_air_date","release_date","vote_average"],"sources":["/Users/iphone6s/Desktop/jay/Movie/movie/src/Pages/Series/Series.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport SingleContent from '../../components/SingleContent/SingleContent'\nimport CustomPagination from '../../components/Pagination/CustomPagination'\nimport Genres from '../../components/Genres/Genres'\nimport axios from 'axios'\nimport useGenre from '../../hooks/useGenre'\n\nconst Series = () => {\n  const [genres, setGenres] = useState([]);\n  const [selectedGenres, setSelectedGenres] = useState([]);\n  const [page, setPage] = useState(1);\n  const [content, setContent] = useState([]);\n  const [numOfPages, setNumOfPages] = useState();\n  const genreforURL = useGenre(selectedGenres);\n  const fetchMovies = async () => {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/discover/tv?api_key=${process.env.REACT_APP_API_KEY}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=${page}&with_genres=${genreforURL}`\n    )\n    setContent(data.results);\n    setNumOfPages(data.total_pages);\n  };\n  useEffect(() => {\n    window.scroll(0, 0);\n    fetchMovies();\n    // eslint-disable-next-line\n  }, [page,genreforURL]);\n\n  return (<>\n    <div className='pageTitle'> TV Series</div>\n    <Genres\n        type=\"tv\"\n        selectedGenres={selectedGenres}\n        setSelectedGenres={setSelectedGenres}\n        genres={genres}\n        setGenres={setGenres}\n        setPage={setPage}\n      />\n     <div className=\"trending\">\n        {content &&\n          content.map((c) => (\n            <SingleContent\n              key={c.id}\n              id={c.id}\n              poster={c.poster_path}\n              title={c.title || c.name}\n              date={c.first_air_date || c.release_date}\n              media_type=\"tv\"\n              vote_average={c.vote_average}\n            />\n          ))}\n      </div>\n      {numOfPages > 1 && (\n        <CustomPagination setPage={setPage} numOfPages={numOfPages} />\n      )}\n\n      </>)\n}\n\nexport default Series"],"mappings":"uYAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,cAAP,KAA0B,8CAA1B,CACA,MAAOC,iBAAP,KAA6B,8CAA7B,CACA,MAAOC,OAAP,KAAmB,gCAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,SAAP,KAAqB,sBAArB,C,6IAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACnB,cAA4BN,QAAQ,CAAC,EAAD,CAApC,wCAAOO,MAAP,eAAeC,SAAf,eACA,eAA4CR,QAAQ,CAAC,EAAD,CAApD,yCAAOS,cAAP,eAAuBC,iBAAvB,eACA,eAAwBV,QAAQ,CAAC,CAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,eAA8BZ,QAAQ,CAAC,EAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eACA,eAAoCd,QAAQ,EAA5C,0CAAOe,UAAP,gBAAmBC,aAAnB,gBACA,GAAMC,YAAW,CAAGZ,QAAQ,CAACI,cAAD,CAA5B,CACA,GAAMS,YAAW,4FAAG,qLACKd,MAAK,CAACe,GAAN,4DAC+BC,OAAO,CAACC,GAAR,CAAYC,iBAD3C,iGACoJX,IADpJ,yBACwKM,WADxK,EADL,uCACVM,IADU,kBACVA,IADU,CAIlBT,UAAU,CAACS,IAAI,CAACC,OAAN,CAAV,CACAR,aAAa,CAACO,IAAI,CAACE,WAAN,CAAb,CALkB,sDAAH,kBAAXP,YAAW,0CAAjB,CAOAnB,SAAS,CAAC,UAAM,CACd2B,MAAM,CAACC,MAAP,CAAc,CAAd,CAAiB,CAAjB,EACAT,WAAW,GACX;AACD,CAJQ,CAIN,CAACP,IAAD,CAAMM,WAAN,CAJM,CAAT,CAMA,mBAAQ,wCACN,YAAK,SAAS,CAAC,WAAf,wBADM,cAEN,KAAC,MAAD,EACI,IAAI,CAAC,IADT,CAEI,cAAc,CAAER,cAFpB,CAGI,iBAAiB,CAAEC,iBAHvB,CAII,MAAM,CAAEH,MAJZ,CAKI,SAAS,CAAEC,SALf,CAMI,OAAO,CAAEI,OANb,EAFM,cAUL,YAAK,SAAS,CAAC,UAAf,UACIC,OAAO,EACNA,OAAO,CAACe,GAAR,CAAY,SAACC,CAAD,qBACV,KAAC,aAAD,EAEE,EAAE,CAAEA,CAAC,CAACC,EAFR,CAGE,MAAM,CAAED,CAAC,CAACE,WAHZ,CAIE,KAAK,CAAEF,CAAC,CAACG,KAAF,EAAWH,CAAC,CAACI,IAJtB,CAKE,IAAI,CAAEJ,CAAC,CAACK,cAAF,EAAoBL,CAAC,CAACM,YAL9B,CAME,UAAU,CAAC,IANb,CAOE,YAAY,CAAEN,CAAC,CAACO,YAPlB,EACOP,CAAC,CAACC,EADT,CADU,EAAZ,CAFL,EAVK,CAwBHf,UAAU,CAAG,CAAb,eACC,KAAC,gBAAD,EAAkB,OAAO,CAAEH,OAA3B,CAAoC,UAAU,CAAEG,UAAhD,EAzBE,GAAR,CA6BD,CAjDD,CAmDA,cAAeT,OAAf"},"metadata":{},"sourceType":"module"}