{"ast":null,"code":"import _regeneratorRuntime from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/iphone6s/Desktop/jay/Movie/movie/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import axios from\"axios\";import{useEffect}from\"react\";import Chip from'@mui/material/Chip';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Genres=function Genres(_ref){var selectedGenres=_ref.selectedGenres,setSelectedGenres=_ref.setSelectedGenres,genres=_ref.genres,setGenres=_ref.setGenres,type=_ref.type,setPage=_ref.setPage;var handleAdd=function handleAdd(genre){setSelectedGenres([].concat(_toConsumableArray(selectedGenres),[genre]));setGenres(genres.filter(function(g){return g.id!==genre.id;}));setPage(1);};var handleDelete=function handleDelete(genre){setSelectedGenres(selectedGenres.filter(function(selected){return selected.id!==genre.id;}));setGenres([].concat(_toConsumableArray(genres),[genre]));setPage(1);};var fetchGenres=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/genre/\".concat(type,\"/list?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setGenres(data.genres);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchGenres(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchGenres();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"6px 21px\",marginBottom:'15px'},children:[selectedGenres.map(function(genre){return/*#__PURE__*/_jsx(Chip,{label:genre.name,style:{margin:2},color:\"primary\",clickable:true,size:\"small\",onDelete:function onDelete(){return handleDelete(genre);}},genre.id);}),genres&&genres.map(function(genre){return/*#__PURE__*/_jsx(Chip,{label:genre.name,style:{margin:2},color:\"secondary\",clickable:true,size:\"small\",onClick:function onClick(){return handleAdd(genre);}},genre.id);})]});};export default Genres;","map":{"version":3,"names":["axios","useEffect","Chip","Genres","selectedGenres","setSelectedGenres","genres","setGenres","type","setPage","handleAdd","genre","filter","g","id","handleDelete","selected","fetchGenres","get","process","env","REACT_APP_API_KEY","data","padding","marginBottom","map","name","margin"],"sources":["/Users/iphone6s/Desktop/jay/Movie/movie/src/components/Genres/Genres.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport Chip from '@mui/material/Chip';\nconst Genres = ({\n  selectedGenres,\n  setSelectedGenres,\n  genres,\n  setGenres,\n  type,\n  setPage,\n}) => {\n  const handleAdd = (genre) => {\n    setSelectedGenres([...selectedGenres, genre]);\n    setGenres(genres.filter((g) => g.id !== genre.id));\n    setPage(1);\n  };\n\n  const handleDelete = (genre) => {\n    setSelectedGenres(\n      selectedGenres.filter((selected) => selected.id !== genre.id)\n    );\n    setGenres([...genres, genre]);\n    setPage(1);\n  };\n\n  const fetchGenres = async () => {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/genre/${type}/list?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`\n    );\n    setGenres(data.genres);\n  };\n\n  useEffect(() => {\n    fetchGenres();\n\n\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div style={{ padding: \"6px 21px\" , marginBottom :'15px' }}>\n        {selectedGenres.map((genre) => (\n          <Chip\n            label={genre.name}\n            style={{ margin: 2 }}\n            key={genre.id}\n            color=\"primary\"\n            clickable\n            size=\"small\"\n        \n         onDelete={()=>handleDelete(genre)}\n          />\n        ))\n        }\n        {\n          genres && genres.map((genre) => (\n            <Chip\n              label={genre.name}\n              style={{ margin: 2 }}\n              key={genre.id}\n              color='secondary'\n              clickable\n              size=\"small\"\n             onClick={()=>handleAdd(genre)}\n           \n            />\n          ))\n        }\n     \n    </div>\n  );\n};\n\nexport default Genres;\n"],"mappings":"+YAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,KAAP,KAAiB,oBAAjB,C,wFACA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAOT,IANJC,eAMI,MANJA,cAMI,CALJC,iBAKI,MALJA,iBAKI,CAJJC,MAII,MAJJA,MAII,CAHJC,SAGI,MAHJA,SAGI,CAFJC,IAEI,MAFJA,IAEI,CADJC,OACI,MADJA,OACI,CACJ,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAW,CAC3BN,iBAAiB,8BAAKD,cAAL,GAAqBO,KAArB,GAAjB,CACAJ,SAAS,CAACD,MAAM,CAACM,MAAP,CAAc,SAACC,CAAD,QAAOA,EAAC,CAACC,EAAF,GAASH,KAAK,CAACG,EAAtB,EAAd,CAAD,CAAT,CACAL,OAAO,CAAC,CAAD,CAAP,CACD,CAJD,CAMA,GAAMM,aAAY,CAAG,QAAfA,aAAe,CAACJ,KAAD,CAAW,CAC9BN,iBAAiB,CACfD,cAAc,CAACQ,MAAf,CAAsB,SAACI,QAAD,QAAcA,SAAQ,CAACF,EAAT,GAAgBH,KAAK,CAACG,EAApC,EAAtB,CADe,CAAjB,CAGAP,SAAS,8BAAKD,MAAL,GAAaK,KAAb,GAAT,CACAF,OAAO,CAAC,CAAD,CAAP,CACD,CAND,CAQA,GAAMQ,YAAW,6FAAG,qLACKjB,MAAK,CAACkB,GAAN,8CACiBV,IADjB,0BACsCW,OAAO,CAACC,GAAR,CAAYC,iBADlD,oBADL,uCACVC,IADU,kBACVA,IADU,CAIlBf,SAAS,CAACe,IAAI,CAAChB,MAAN,CAAT,CAJkB,sDAAH,kBAAXW,YAAW,2CAAjB,CAOAhB,SAAS,CAAC,UAAM,CACdgB,WAAW,GAGX;AACD,CALQ,CAKN,EALM,CAAT,CAOA,mBACE,aAAK,KAAK,CAAE,CAAEM,OAAO,CAAE,UAAX,CAAwBC,YAAY,CAAE,MAAtC,CAAZ,WACKpB,cAAc,CAACqB,GAAf,CAAmB,SAACd,KAAD,qBAClB,KAAC,IAAD,EACE,KAAK,CAAEA,KAAK,CAACe,IADf,CAEE,KAAK,CAAE,CAAEC,MAAM,CAAE,CAAV,CAFT,CAIE,KAAK,CAAC,SAJR,CAKE,SAAS,KALX,CAME,IAAI,CAAC,OANP,CAQD,QAAQ,CAAE,0BAAIZ,aAAY,CAACJ,KAAD,CAAhB,EART,EAGOA,KAAK,CAACG,EAHb,CADkB,EAAnB,CADL,CAeMR,MAAM,EAAIA,MAAM,CAACmB,GAAP,CAAW,SAACd,KAAD,qBACnB,KAAC,IAAD,EACE,KAAK,CAAEA,KAAK,CAACe,IADf,CAEE,KAAK,CAAE,CAAEC,MAAM,CAAE,CAAV,CAFT,CAIE,KAAK,CAAC,WAJR,CAKE,SAAS,KALX,CAME,IAAI,CAAC,OANP,CAOC,OAAO,CAAE,yBAAIjB,UAAS,CAACC,KAAD,CAAb,EAPV,EAGOA,KAAK,CAACG,EAHb,CADmB,EAAX,CAfhB,GADF,CAgCD,CApED,CAsEA,cAAeX,OAAf"},"metadata":{},"sourceType":"module"}